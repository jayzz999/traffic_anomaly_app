# Traffic Anomaly Detection - Edge Device Configuration
# Copy this file to .env and fill in your values

# ============================================
# DEVICE IDENTIFICATION
# ============================================
# Unique identifier for this edge device
EDGE_DEVICE_ID=rpi-edge-001

# Camera identifier (must be unique per camera)
CAMERA_ID=cam-001

# Location identifier (intersection/junction ID from RTA)
LOCATION_ID=intersection-001

# ============================================
# CAMERA SETTINGS
# ============================================
# Camera source can be:
# - Integer (0, 1, 2...) for USB/CSI cameras
# - RTSP URL for IP cameras
# - File path for testing with video files

# USB/CSI Camera (default)
CAMERA_SOURCE=0

# RTSP IP Camera examples:
# CAMERA_SOURCE=rtsp://admin:password@192.168.1.100:554/stream1
# CAMERA_SOURCE=rtsp://192.168.1.100:554/live/main

# Video file for testing:
# CAMERA_SOURCE=/path/to/test_video.mp4

# ============================================
# RTA DUBAI API CONFIGURATION
# ============================================
# RTA API endpoints
RTA_API_URL=https://api.rta.ae/traffic/v1
RTA_AUTH_URL=https://auth.rta.ae/oauth2/token

# OAuth2 credentials (get from RTA developer portal)
RTA_CLIENT_ID=your_client_id_here
RTA_CLIENT_SECRET=your_client_secret_here

# API Key (alternative to OAuth2)
RTA_API_KEY=your_api_key_here

# ============================================
# LOCATION DETAILS
# ============================================
# Human-readable intersection name
INTERSECTION_NAME=Sheikh Zayed Road - Trade Centre Roundabout

# GPS coordinates (latitude, longitude)
CAMERA_LAT=25.2048
CAMERA_LON=55.2708

# ============================================
# PROCESSING SETTINGS
# ============================================
# Reduce TensorFlow logging
TF_CPP_MIN_LOG_LEVEL=2

# Force CPU (required for Raspberry Pi)
CUDA_VISIBLE_DEVICES=-1

# ============================================
# NETWORK SETTINGS
# ============================================
# Network check interval (seconds)
NETWORK_CHECK_INTERVAL=5.0

# Connection timeout (seconds)
NETWORK_TIMEOUT=5.0

# ============================================
# STORAGE SETTINGS
# ============================================
# Maximum offline storage size (MB)
MAX_OFFLINE_STORAGE_MB=500

# Maximum age for stored data (hours)
MAX_OFFLINE_AGE_HOURS=72

# ============================================
# EDGE PROCESSING SETTINGS
# ============================================
# Keyframe extraction thresholds
SCENE_THRESHOLD=30.0
MOTION_THRESHOLD=5.0

# Keyframe intervals (frames)
MIN_KEYFRAME_INTERVAL=30
MAX_KEYFRAME_INTERVAL=150

# Default compression (full, high, medium, low, minimal)
DEFAULT_COMPRESSION=high

# Image format (jpeg, webp)
DEFAULT_FORMAT=jpeg
